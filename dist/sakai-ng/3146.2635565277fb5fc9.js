"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[3146],{3146:(J,c,n)=>{n.r(c),n.d(c,{SubreportsModule:()=>H});var d=n(6895),x=n(433),i=n(99),Z=n(3388),g=n(5593),h=n(1795),b=n(2453),f=n(1383),y=n(6408),v=n(1740),T=n(3054),A=n(2210),M=n(613),C=n(5047),U=n(1493),S=n(6770),u=n(805),F=n(4327),P=n(6166),E=n(2983),N=n.n(E),t=n(1571),D=n(529);const p="http://localhost:3000/api/subreports";let j=(()=>{class o{constructor(e){this.http=e}getAll(){return this.http.get(p)}get(e){return this.http.get(`${p}/${e}`)}create(e){return this.http.post(p,e)}update(e,r){return this.http.put(`${p}/${e}`,r)}delete(e){return this.http.delete(`${p}/${e}`)}deleteAll(){return this.http.delete(p)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(D.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var B=n(9063);function I(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",10)(1,"span",11)(2,"button",12),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.exportExcel())}),t.qZA(),t._uU(3," \xa0 "),t.TgZ(4,"button",13),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.exportPdf())}),t.qZA()()()}}function O(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"h5",15),t._uU(2,"Subreports"),t.qZA(),t.TgZ(3,"span",16),t._UZ(4,"i",17),t.TgZ(5,"input",18),t.NdJ("input",function(s){t.CHM(e);const a=t.oxw(),m=t.MAs(8);return t.KtG(a.onGlobalFilter(m,s))}),t.qZA()()()}}function z(o,l){1&o&&(t.TgZ(0,"tr")(1,"th",19),t._uU(2,"Name "),t._UZ(3,"p-sortIcon",20),t.qZA(),t.TgZ(4,"th",21),t._uU(5,"Mobile"),t._UZ(6,"p-sortIcon",22),t.qZA(),t.TgZ(7,"th",23),t._uU(8,"Plan"),t._UZ(9,"p-sortIcon",24),t.qZA(),t.TgZ(10,"th",25),t._uU(11,"date "),t._UZ(12,"p-columnFilter",26),t.qZA(),t.TgZ(13,"th",27),t._uU(14,"Expiry Date"),t._UZ(15,"p-sortIcon",28),t.qZA()())}function R(o,l){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.ALo(12,"date"),t.qZA()()),2&o){const e=l.$implicit;t.xp6(2),t.Oqu(e.member.name),t.xp6(2),t.Oqu(e.member.mobile),t.xp6(2),t.hij("",e.plan," Month"),t.xp6(2),t.Oqu(t.xi3(9,5,e.createdAt,"dd/MM/yyyy")),t.xp6(3),t.Oqu(t.xi3(12,8,e.createdAt,"dd/MM/yyyy"))}}const Y=function(){return["name","mobile","plan","date"]},$=function(){return[10,20,30]};let L=(()=>{class o{constructor(e,r,s){this.messageService=e,this.subreportService=r,this.subscriptionService=s,this.subreports=[],this.subreport={},this.trainers=[],this.selectedSubreports=[],this.subreportDialog=!1,this.subreportViewDialog=!1,this.deleteSubreportDialog=!1,this.deleteSubreportsDialog=!1,this.deleteProductsDialog=!1,this.submitted=!1,this.subscriptions=[],this.trainernames=[],this.rowsPerPageOptions=[5,10,20]}expiryDate(e){return console.log(e),e}ngOnInit(){this.retrieveSubreports(),this.subscriptions=[{label:"1 Month",value:"1 Month"},{label:"3 Month",value:"3 Month"},{label:"6 Month",value:"6 Month"},{label:"12 Month",value:"12 Month"}]}exportExcel(){n.e(574).then(n.bind(n,574)).then(e=>{const s={Sheets:{data:e.utils.json_to_sheet(this.subreports)},SheetNames:["data"]},a=e.write(s,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"subreports")})}saveAsExcelFile(e,r){const m=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});F.saveAs(m,r+"_export_"+(new Date).getTime()+".xlsx")}exportPdf(){const e=new P.default("l","mm","a4");N()(e,{html:"#pr_id_2-table"}),e.save("subreports.pdf")}retrieveSubreports(){this.subscriptionService.getAllSubscription().subscribe(e=>{this.subreports=e,console.log(e)},e=>{console.log(e)})}findIndexById(e){let r=-1;for(let s=0;s<this.subreports.length;s++)if(this.subreports[s].id===e){r=s;break}return r}onGlobalFilter(e,r){e.filterGlobal(r.target.value,"contains")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.ez),t.Y36(j),t.Y36(B.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-subreport"]],features:[t._Bn([u.ez])],decls:12,vars:9,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["id","my-table","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"value","globalFilterFields","rows","paginator","rowsPerPageOptions","showCurrentPageReport","rowHover"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"my-2"],[1,"p-buttonset"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","XLS","tooltipPosition","bottom",1,"p-button-warning",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-file-pdf","pTooltip","PDF","tooltipPosition","bottom",1,"p-button-warning",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],["pSortableColumn","name"],["field","name"],["pSortableColumn","mobile"],["field","mobile"],["pSortableColumn","plan"],["field","plan"],["pSortableColumn","date"],["type","date","field","date","display","menu","placeholder","mm/dd/yyyy"],["pSortableColumn","dob"],["field","dob"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"p-toast"),t.TgZ(4,"p-toolbar",3),t.YNc(5,I,5,0,"ng-template",4),t.qZA(),t._uU(6,"- "),t.TgZ(7,"p-table",5,6),t.YNc(9,O,6,0,"ng-template",7),t.YNc(10,z,16,0,"ng-template",8),t.YNc(11,R,13,11,"ng-template",9),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("value",r.subreports)("globalFilterFields",t.DdM(7,Y))("rows",10)("paginator",!0)("rowsPerPageOptions",t.DdM(8,$))("showCurrentPageReport",!0)("rowHover",!0))},dependencies:[i.iA,u.jx,i.lQ,i.fz,i.xl,g.Hq,h.H,b.FN,f.o,v.o,d.uU],encapsulation:2}),o})(),w=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[S.Bz.forChild([{path:"",component:L}]),S.Bz]}),o})();var G=n(3520);let H=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,w,i.U$,Z.O,x.u5,g.hJ,h.T,b.EV,f.V,y.Xt,v.j,T.A,A.kW,M.cc,G.zz,C.L$,U.S]}),o})()}}]);